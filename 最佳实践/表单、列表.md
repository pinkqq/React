## 开发列表需要考虑的技术点

1. 如何翻页
2. 如何进行页面搜索
3. 如何缓存数据
4. 如何进行页面的刷新

## store 的设计

```js
const initialState = {
  items: [],
  page: 1,
  pageSize: 3,
  total: 0,
  byId: {},
  fetchListPending: false,
  fetchListError: null,
  listNeedReload: false,
};
```

## URL 的设计以及和 store 的同步

```jsx
<Switch>
  <Route path="/table/:page?">
    <Table />
  </Route>
  <Route path="/user/:userId">
    <Detail />
  </Route>
  <Route path="/">
    <Home />
  </Route>
</Switch>
```

## 处理加载状态

- 第一次渲染时的全局 loading
  ```js
  if (!items || !items.length) return 'loading...';
  ```
- 第一次渲染后的局部 loading

  ```jsx
  const { fetchListPending } = props;
  return <Table loading={fetchListPending} />;
  ```

## 错误处理

```js
const { fetchListError } = porps;
if (fetchListError) {
  return <div>{fetchListError.error.message}</div>;
}
```
